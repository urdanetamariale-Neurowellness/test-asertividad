<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Test de Asertividad - Identifica tu estilo comunicativo. NeuroWellness Learning">
    <title>Test de Asertividad - NeuroWellness Learning</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            -webkit-font-smoothing: antialiased;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
            min-height: 100vh;
        }
        .card {
            max-width: 56rem;
            margin: 0 auto;
            background: #fff;
            border-radius: 1rem;
            box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1);
            padding: 2rem;
        }
        .card-narrow { max-width: 48rem; }
        .logo { max-height: 85px; display: block; margin: 0 auto 1rem; }
        .logo-sm { height: 55px; display: block; }
        h1 { color: #2C3E50; margin-bottom: 0.25rem; }
        h2 { color: #2C3E50; margin-bottom: 0.5rem; }
        h3 { color: #2C3E50; margin-bottom: 0.5rem; margin-top: 1.25rem; }
        .subtitle { color: #6b7280; font-size: 0.85rem; margin-bottom: 0.15rem; }
        .copyright { color: #9ca3af; font-size: 0.75rem; }
        .intro-text { color: #374151; margin-bottom: 1rem; }
        .intro-text ul { margin: 0.5rem 0 0.5rem 1.5rem; }
        .intro-text li { margin-bottom: 0.35rem; color: #374151; }
        .section-title { color: #2C3E50; font-size: 1.15rem; font-weight: 600; margin: 1.5rem 0 1rem; }
        .divider { border-top: 1px solid #e5e7eb; padding-top: 1.75rem; margin-top: 0.5rem; }
        label { display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 0.4rem; }
        input {
            width: 100%;
            padding: 0.7rem 1rem;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            font-size: 1rem;
            font-family: inherit;
            margin-bottom: 1rem;
            box-sizing: border-box;
        }
        input:focus { outline: none; border-color: #C8A2C8; box-shadow: 0 0 0 2px rgba(200,162,200,0.2); }
        .privacy { font-size: 0.75rem; color: #6b7280; text-align: center; margin-top: 1rem; }

        /* Bot√≥n principal */
        .btn-start {
            width: 100%;
            padding: 0.9rem;
            border: none;
            border-radius: 0.5rem;
            font-size: 1.1rem;
            font-weight: 600;
            font-family: inherit;
            background: #2C3E50;
            color: #fff;
            cursor: pointer;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
            transition: background 0.2s;
            margin-top: 0.5rem;
        }
        .btn-start:hover { background: #1a252f; }
        .btn-start:disabled { background: #d1d5db; color: #9ca3af; cursor: not-allowed; box-shadow: none; }

        /* Header del test */
        .test-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem; }
        .test-counter { font-size: 0.875rem; color: #4b5563; }
        .progress-track { width: 100%; height: 0.5rem; background: #e5e7eb; border-radius: 9999px; overflow: hidden; margin-bottom: 1.5rem; }
        .progress-fill { height: 100%; background: #C8A2C8; border-radius: 9999px; transition: width 0.3s; }
        .dimension-label { font-size: 0.85rem; font-weight: 600; color: #C8A2C8; margin-bottom: 0.4rem; }
        .question-text { font-size: 1.05rem; color: #1f2937; margin-bottom: 1.25rem; line-height: 1.6; }

        /* Opciones */
        .option-btn {
            width: 100%;
            text-align: left;
            padding: 0.9rem 1rem;
            border: 2px solid #e5e7eb;
            background: #fff;
            border-radius: 0.5rem;
            font-size: 0.92rem;
            color: #374151;
            line-height: 1.5;
            cursor: pointer;
            font-family: inherit;
            margin-bottom: 0.6rem;
            transition: all 0.2s;
        }
        .option-btn:hover { border-color: #C8A2C8; background: rgba(200,162,200,0.05); }
        .option-btn.selected { border-color: #C8A2C8; background: rgba(200,162,200,0.1); }
        .option-label { font-weight: 600; color: #C8A2C8; margin-right: 0.4rem; }

        /* Navegaci√≥n */
        .nav-buttons { display: flex; gap: 1rem; margin-top: 1.5rem; }
        .btn-prev {
            display: flex; align-items: center; gap: 0.4rem;
            padding: 0.7rem 1.2rem;
            background: #e5e7eb; color: #374151;
            border: none; border-radius: 0.5rem;
            font-weight: 600; font-size: 0.95rem;
            font-family: inherit; cursor: pointer;
            transition: background 0.2s;
        }
        .btn-prev:hover { background: #d1d5db; }
        .btn-prev:disabled { opacity: 0.45; cursor: not-allowed; }
        .btn-next {
            flex: 1; display: flex; align-items: center; justify-content: center; gap: 0.4rem;
            padding: 0.7rem 1.2rem;
            background: #2C3E50; color: #fff;
            border: none; border-radius: 0.5rem;
            font-weight: 600; font-size: 0.95rem;
            font-family: inherit; cursor: pointer;
            transition: background 0.2s;
        }
        .btn-next:hover { background: #1a252f; }
        .btn-next:disabled { background: #d1d5db; color: #9ca3af; cursor: not-allowed; }
        .btn-next.green { background: #16a34a; }
        .btn-next.green:hover { background: #15803d; }
        .footer-copy { text-align: center; margin-top: 1.5rem; font-size: 0.75rem; color: #9ca3af; }

        /* Resultados */
        .result-title { font-size: 1.875rem; font-weight: 700; color: #C8A2C8; margin-bottom: 1rem; }
        .result-subtitle { font-size: 1.1rem; color: #374151; margin-bottom: 0.25rem; }
        .second-profile { font-size: 1rem; color: #4b5563; margin-bottom: 1.25rem; font-style: italic; }
        .bar-row { margin-bottom: 0.6rem; }
        .bar-label { display: flex; justify-content: space-between; font-size: 0.85rem; font-weight: 500; color: #374151; margin-bottom: 0.2rem; }
        .bar-track { width: 100%; height: 0.7rem; background: #e5e7eb; border-radius: 9999px; overflow: hidden; }
        .bar-fill { height: 100%; border-radius: 9999px; transition: width 0.5s; }
        .feedback-box { background: #F8F9FA; padding: 1.5rem; border-radius: 0.5rem; margin-top: 1.5rem; white-space: pre-line; color: #374151; line-height: 1.7; }
        .btn-restart {
            width: 100%; padding: 0.7rem;
            background: #2C3E50; color: #fff;
            border: none; border-radius: 0.5rem;
            font-weight: 600; font-size: 0.95rem;
            font-family: inherit; cursor: pointer;
            display: flex; align-items: center; justify-content: center; gap: 0.5rem;
            margin-top: 1.5rem; transition: background 0.2s;
        }
        .btn-restart:hover { background: #1a252f; }
        .results-footer { text-align: center; margin-top: 1.5rem; }

        @media (max-width: 640px) {
            .card { padding: 1.25rem; margin: 1rem 0.5rem; }
        }
    </style>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
const { useState } = React;

const questions = [
    {
      id: 1,
      text: "Un amigo te pide prestado dinero por tercera vez este mes y a√∫n no te ha devuelto lo anterior:",
      options: [
        { id: 'a', text: "Le presto el dinero aunque me incomoda, total luego me pagar√° todo junto", type: 'PC' },
        { id: 'b', text: "Le digo que 'ahorita ando corto' o 'd√©jame ver', evitando decirle directamente que no", type: 'PE' },
        { id: 'c', text: "Le digo que no puedo prestarle m√°s hasta que salde lo anterior, y le ofrezco ayudarle a buscar otras alternativas", type: 'A' },
        { id: 'd', text: "Le digo que no de forma cortante y le suelto '¬øotra vez? ¬°siempre es lo mismo contigo!'", type: 'AI' },
        { id: 'e', text: "Le explico que tengo mis propias prioridades financieras y que necesita organizarse mejor", type: 'AD' },
        { id: 'f', text: "Le digo que s√≠ pero luego evito sus llamadas o le digo que 'se me olvid√≥' ir al banco", type: 'PA' }
      ],
      dimension: "Peticiones y necesidades"
    },
    {
      id: 2,
      text: "En un restaurante tu plato llega fr√≠o y no es exactamente lo que pediste:",
      options: [
        { id: 'a', text: "Me lo como sin decir nada, total no es tan grave y no quiero causar problemas", type: 'PC' },
        { id: 'b', text: "Como un poco y dejo el resto, si el mesero pregunta digo que 'ya estoy lleno' o que 'est√° bien'", type: 'PE' },
        { id: 'c', text: "Llamo al mesero, explico la situaci√≥n amablemente y pido que por favor lo solucionen", type: 'A' },
        { id: 'd', text: "Llamo al mesero con tono molesto dici√©ndole '¬øen serio? ¬°esto est√° fr√≠o y ni siquiera es lo que ped√≠!'", type: 'AI' },
        { id: 'e', text: "Se√±alo el error de manera directa, indico que esto no cumple con lo que ped√≠ y espero que lo corrijan inmediatamente", type: 'AD' },
        { id: 'f', text: "No digo nada en el momento pero dejo propina m√≠nima o escribo una mala rese√±a despu√©s", type: 'PA' }
      ],
      dimension: "Peticiones y necesidades"
    },
    {
      id: 3,
      text: "Un compa√±ero de trabajo te pide constantemente ayuda con tareas que deber√≠a saber hacer:",
      options: [
        { id: 'a', text: "Siempre le ayudo aunque me atrase en mi propio trabajo, no quiero que piense que soy mala persona", type: 'PC' },
        { id: 'b', text: "Le digo que 'ahorita estoy ocupado' o que 'luego lo vemos', tratando de evitar ayudarle sin decirle que no", type: 'PE' },
        { id: 'c', text: "Le ayudo esta vez pero le sugiero recursos o capacitaci√≥n para que aprenda a hacerlo solo", type: 'A' },
        { id: 'd', text: "Le digo de forma cortante '¬°ya deber√≠as saber hacer esto! No puedo estar ayud√°ndote siempre'", type: 'AI' },
        { id: 'e', text: "Le explico que tengo mis propias responsabilidades y que necesita desarrollar autonom√≠a en estas tareas", type: 'AD' },
        { id: 'f', text: "Le ayudo pero haciendo comentarios indirectos sobre su falta de capacidad o suspirando audiblemente", type: 'PA' }
      ],
      dimension: "Peticiones y necesidades"
    },
    {
      id: 4,
      text: "Tu pareja/familiar cercano hace un comentario sarc√°stico sobre algo que es importante para ti delante de otras personas:",
      options: [
        { id: 'a', text: "Me r√≠o junto con los dem√°s aunque me duele, no quiero arruinar el momento", type: 'PC' },
        { id: 'b', text: "Cambio de tema r√°pidamente o me quedo callado, esperando que pase el momento", type: 'PE' },
        { id: 'c', text: "En privado le comento que ese comentario me molest√≥ y me gustar√≠a que no se repita", type: 'A' },
        { id: 'd', text: "Le respondo con otro comentario sarc√°stico sobre algo suyo en el momento para que vea c√≥mo se siente", type: 'AI' },
        { id: 'e', text: "Le hago saber ah√≠ mismo que ese tipo de comentarios no son apropiados, independientemente de qui√©n est√© presente", type: 'AD' },
        { id: 'f', text: "No digo nada pero me muestro distante y fr√≠o el resto del d√≠a para que se d√© cuenta", type: 'PA' }
      ],
      dimension: "Manejo de conflictos"
    },
    {
      id: 5,
      text: "Un compa√±ero se adjudica en una reuni√≥n una idea que t√∫ propusiste semanas atr√°s:",
      options: [
        { id: 'a', text: "No digo nada, quiz√°s ni siquiera se acordaba que era m√≠a, no vale la pena el conflicto", type: 'PC' },
        { id: 'b', text: "Despu√©s le mando un mensaje o correo 'record√°ndole' que hab√≠amos hablado de eso antes", type: 'PE' },
        { id: 'c', text: "Intervengo: 'Exacto, esa fue la propuesta que hice en la reuni√≥n del [fecha]. Me parece bien que la retomemos'", type: 'A' },
        { id: 'd', text: "Lo interrumpo dici√©ndole '¬°espera! Esa idea la propuse yo hace semanas, no te la adjudiques'", type: 'AI' },
        { id: 'e', text: "Aclaro para el grupo que yo present√© esa propuesta anteriormente y que es importante reconocer las contribuciones", type: 'AD' },
        { id: 'f', text: "No digo nada en la reuni√≥n pero despu√©s dejo de compartir ideas con √©l o hago comentarios con otros", type: 'PA' }
      ],
      dimension: "Manejo de conflictos"
    },
    {
      id: 6,
      text: "Alguien tiene una opini√≥n pol√≠tica/social muy diferente a la tuya y la expresa con convicci√≥n:",
      options: [
        { id: 'a', text: "Asiento y sigo la corriente aunque est√© en total desacuerdo internamente", type: 'PC' },
        { id: 'b', text: "Cambio de tema diciendo algo como 'ay s√≠, qui√©n sabe' sin comprometerme", type: 'PE' },
        { id: 'c', text: "Comparto mi perspectiva diferente reconociendo que son temas donde las personas pueden diferir", type: 'A' },
        { id: 'd', text: "Salto a debatir inmediatamente tratando de demostrar por qu√© est√° equivocado", type: 'AI' },
        { id: 'e', text: "Expongo mi punto de vista con firmeza, dejando claro que esa postura me parece problem√°tica", type: 'AD' },
        { id: 'f', text: "Asiento pero luego hago comentarios sarc√°sticos o me burlo de esas ideas con otros", type: 'PA' }
      ],
      dimension: "Manejo de conflictos"
    },
    {
      id: 7,
      text: "Tu jefe te env√≠a mensajes de trabajo fuera de horario laboral con frecuencia:",
      options: [
        { id: 'a', text: "Respondo inmediatamente siempre, aunque est√© cenando o con mi familia", type: 'PC' },
        { id: 'b', text: "Los veo pero no respondo, o respondo al d√≠a siguiente sin decir nada sobre el horario", type: 'PE' },
        { id: 'c', text: "Respondo: 'Lo reviso ma√±ana primera hora' o propongo establecer horarios para temas urgentes", type: 'A' },
        { id: 'd', text: "Le respondo '¬°estoy fuera de horario!' o lo dejo en visto mostrando mi molestia", type: 'AI' },
        { id: 'e', text: "Le explico que fuera de horario no estoy disponible a menos que sea una emergencia real", type: 'AD' },
        { id: 'f', text: "Respondo pero con respuestas cortas, tard√≠as o poco √∫tiles para que 'capte' que no me parece", type: 'PA' }
      ],
      dimension: "Establecimiento de l√≠mites"
    },
    {
      id: 8,
      text: "Un vecino pone m√∫sica alta repetidamente en horarios de descanso:",
      options: [
        { id: 'a', text: "No digo nada y uso tapones para dormir, no quiero problemas con vecinos", type: 'PC' },
        { id: 'b', text: "Hago ruido tambi√©n o toco la pared esperando que entienda, pero no hablo con √©l", type: 'PE' },
        { id: 'c', text: "Toco su puerta y le explico amablemente que el ruido me afecta, buscando llegar a un acuerdo", type: 'A' },
        { id: 'd', text: "Golpeo la pared fuerte, pongo m√∫sica tambi√©n alta o le grito que baje el volumen", type: 'AI' },
        { id: 'e', text: "Voy y le informo directamente que debe respetar los horarios de descanso, es una norma de convivencia", type: 'AD' },
        { id: 'f', text: "No le digo nada pero hago comentarios pasivos en el elevador sobre 'gente sin educaci√≥n'", type: 'PA' }
      ],
      dimension: "Establecimiento de l√≠mites"
    },
    {
      id: 9,
      text: "En una reuni√≥n familiar/de amigos proponen un plan que realmente no te interesa o no puedes asistir:",
      options: [
        { id: 'a', text: "Digo que s√≠ aunque no quiera ir, y luego voy aunque est√© inc√≥modo todo el tiempo", type: 'PC' },
        { id: 'b', text: "Digo 'tal vez' o 'lo veo' sabiendo que no ir√©, para no quedar mal en el momento", type: 'PE' },
        { id: 'c', text: "Agradezco la invitaci√≥n y explico honestamente que prefiero no asistir o tengo otros compromisos", type: 'A' },
        { id: 'd', text: "Digo '¬øen serio quieren ir a eso? Qu√© aburrido' o critico el plan abiertamente", type: 'AI' },
        { id: 'e', text: "Explico que tengo otras prioridades y que no todos los planes tienen que incluirme", type: 'AD' },
        { id: 'f', text: "Digo que s√≠ pero luego cancelo de √∫ltimo momento poniendo una excusa", type: 'PA' }
      ],
      dimension: "Expresi√≥n de desacuerdo"
    },
    {
      id: 10,
      text: "Un amigo te recomienda una pel√≠cula/serie/libro que no te gust√≥. Cuando le menciones que la viste, insiste en que es excelente y no entiende por qu√© no te gust√≥:",
      options: [
        { id: 'a', text: "Le digo que s√≠, que finalmente la entend√≠ mejor, para no llegar a una discusi√≥n", type: 'PC' },
        { id: 'b', text: "Digo algo vago como 'interesante' o 'tiene sus partes buenas' y trato de cambiar de tema", type: 'PE' },
        { id: 'c', text: "Le digo honestamente que no fue de mi agrado, pero que entiendo por qu√© a √©l s√≠ le gust√≥", type: 'A' },
        { id: 'd', text: "Le digo '¬øen serio la defiendo as√≠? ¬°Estuvo mal√≠sima!' y le explico todo lo que estuvo mal", type: 'AI' },
        { id: 'e', text: "Le explico de forma directa por qu√© no cumpli√≥ mis expectativas, con criterios concretos", type: 'AD' },
        { id: 'f', text: "Le digo que s√≠, que est√° bien, pero despu√©s hago comentarios sarc√°sticos sobre la pel√≠cula con otros", type: 'PA' }
      ],
      dimension: "Expresi√≥n de desacuerdo"
    },
    {
      id: 11,
      text: "Tu jefe/profesor te da feedback negativo sobre tu trabajo frente a otros:",
      options: [
        { id: 'a', text: "Acepto todo sin decir nada y me disculpo, aunque sienta que algunas cr√≠ticas son injustas", type: 'PC' },
        { id: 'b', text: "Asiento y digo que lo revisar√©, pero despu√©s evito el tema si vuelve a surgir", type: 'PE' },
        { id: 'c', text: "Escucho, acepto lo v√°lido y pido respetuosamente hablar en privado sobre puntos que necesitan contexto", type: 'A' },
        { id: 'd', text: "Me defiendo inmediatamente: '¬°Pero es que no tuve los recursos!' o menciono sus errores tambi√©n", type: 'AI' },
        { id: 'e', text: "Explico de forma firme los factores y decisiones que tom√©, dejando claro que ten√≠a mis razones", type: 'AD' },
        { id: 'f', text: "Acepto con un 'tienes raz√≥n' pero luego hago comentarios sarc√°sticos sobre √©l con otros", type: 'PA' }
      ],
      dimension: "Manejo de cr√≠ticas"
    },
    {
      id: 12,
      text: "Un amigo te hace una observaci√≥n sobre algo de tu comportamiento que le molesta:",
      options: [
        { id: 'a', text: "Me disculpo excesivamente aunque no est√© seguro de haber hecho algo realmente malo", type: 'PC' },
        { id: 'b', text: "Digo 'ah ok' y cambio de tema r√°pidamente sin profundizar", type: 'PE' },
        { id: 'c', text: "Escucho con apertura, agradezco que me lo diga y eval√∫o si es algo que quiero cambiar", type: 'A' },
        { id: 'd', text: "Me pongo defensivo y le se√±alo inmediatamente sus comportamientos molestos tambi√©n", type: 'AI' },
        { id: 'e', text: "Le explico por qu√© act√∫o as√≠ y que tiene sus razones v√°lidas, aunque le moleste", type: 'AD' },
        { id: 'f', text: "Digo 'est√° bien' pero me siento resentido y distancio la relaci√≥n por un tiempo", type: 'PA' }
      ],
      dimension: "Manejo de cr√≠ticas"
    },
    {
      id: 13,
      text: "Un amigo cancela planes contigo a √∫ltimo momento por segunda vez consecutiva:",
      options: [
        { id: 'a', text: "Le digo que no hay problema y que entiendo perfectamente, aunque me sienta decepcionado", type: 'PC' },
        { id: 'b', text: "Le digo 'est√° bien' pero luego yo tambi√©n cancelo los pr√≥ximos planes sin explicar", type: 'PE' },
        { id: 'c', text: "Le expreso que entiendo los imprevistos, pero que me gustar√≠a que me avise con m√°s tiempo porque valoro nuestro tiempo", type: 'A' },
        { id: 'd', text: "Le respondo molesto: '¬°Otra vez! ¬øSabes qu√©? Ya ni te molestes en hacer planes'", type: 'AI' },
        { id: 'e', text: "Le hago saber que valorar el tiempo ajeno es b√°sico y que espero m√°s consideraci√≥n de su parte", type: 'AD' },
        { id: 'f', text: "Le digo 'no te preocupes' pero luego me muestro fr√≠o y distante cuando nos vemos", type: 'PA' }
      ],
      dimension: "Expresi√≥n de emociones negativas"
    },
    {
      id: 14,
      text: "Te sientes sobrecargado de trabajo/responsabilidades y alguien te pide un favor adicional:",
      options: [
        { id: 'a', text: "Acepto el favor aunque est√© al l√≠mite, no quiero decepcionar a nadie", type: 'PC' },
        { id: 'b', text: "Digo 'lo veo' o 'd√©jame checar' sabiendo que probablemente no podr√©", type: 'PE' },
        { id: 'c', text: "Explico mi situaci√≥n actual y propongo ayudar en otro momento o de forma limitada", type: 'A' },
        { id: 'd', text: "Respondo irritado: '¬°¬øNo ves que estoy hasta el cuello?! ¬°No puedo con m√°s!'", type: 'AI' },
        { id: 'e', text: "Le explico que tengo prioridades ya establecidas y que no puedo comprometerme en este momento", type: 'AD' },
        { id: 'f', text: "Acepto pero lo hago de mala gana y la persona se da cuenta de mi molestia", type: 'PA' }
      ],
      dimension: "Expresi√≥n de emociones negativas"
    },
    {
      id: 15,
      text: "Alguien hace una broma a tu costa que te incomoda:",
      options: [
        { id: 'a', text: "Me r√≠o junto con los dem√°s aunque no me parezca gracioso ni c√≥modo", type: 'PC' },
        { id: 'b', text: "Me quedo callado o cambio de tema, esperando que no sigan con ese tipo de bromas", type: 'PE' },
        { id: 'c', text: "Con buen humor digo 'ok, esa estuvo de m√°s' o 'prefiero que no hagamos bromas sobre ese tema'", type: 'A' },
        { id: 'd', text: "Hago una broma m√°s fuerte o hiriente sobre esa persona para 'emparejar'", type: 'AI' },
        { id: 'e', text: "Les hago saber directamente que ese tipo de humor no me parece apropiado", type: 'AD' },
        { id: 'f', text: "Me quedo serio creando un ambiente inc√≥modo, o respondo con sarcasmo despu√©s", type: 'PA' }
      ],
      dimension: "Expresi√≥n de emociones negativas"
    },
    {
      id: 16,
      text: "En una tienda te cobran de m√°s por error:",
      options: [
        { id: 'a', text: "Pago sin decir nada, es poco dinero y no vale la pena el problema", type: 'PC' },
        { id: 'b', text: "Pago pero luego reviso el ticket y me quejo con quien me acompa√±a", type: 'PE' },
        { id: 'c', text: "Se√±alo el error educadamente y pido que por favor corrijan el cobro", type: 'A' },
        { id: 'd', text: "Les reclamo molesto: '¬°Oye, me est√°n cobrando de m√°s! ¬øQu√© es esto?'", type: 'AI' },
        { id: 'e', text: "Indico el error y espero que lo corrijan, es su obligaci√≥n cobrar correctamente", type: 'AD' },
        { id: 'f', text: "Pago sin decir nada pero luego dejo mala rese√±a o me quejo en redes", type: 'PA' }
      ],
      dimension: "Defensa de derechos propios"
    },
    {
      id: 17,
      text: "Alguien se cuela delante de ti en una fila:",
      options: [
        { id: 'a', text: "No digo nada, quiz√°s tiene prisa o una emergencia", type: 'PC' },
        { id: 'b', text: "Toso fuerte o me acerco m√°s esperando que se d√© cuenta, pero no digo nada", type: 'PE' },
        { id: 'c', text: "Le hago notar con cortes√≠a: 'Disculpa, la fila comienza atr√°s'", type: 'A' },
        { id: 'd', text: "Le digo en voz alta '¬°Oye! ¬°Hay una fila! ¬°F√≥rmate como todos!'", type: 'AI' },
        { id: 'e', text: "Le indico que hay una fila y que todos estamos esperando nuestro turno", type: 'AD' },
        { id: 'f', text: "No le digo nada pero hago comentarios audibles sobre 'gente sin educaci√≥n'", type: 'PA' }
      ],
      dimension: "Defensa de derechos propios"
    },
    {
      id: 18,
      text: "Te asignan un asiento/habitaci√≥n/espacio en peores condiciones de lo que reservaste/pagaste:",
      options: [
        { id: 'a', text: "Lo acepto sin quejarme, no quiero ser exigente o causar problemas", type: 'PC' },
        { id: 'b', text: "Acepto pero pregunto 'si hay posibilidad' de algo mejor sin insistir mucho", type: 'PE' },
        { id: 'c', text: "Muestro mi reserva amablemente y pido lo que corresponde o una soluci√≥n equivalente", type: 'A' },
        { id: 'd', text: "Les reclamo molesto: '¬°Esto no es lo que pagu√©! ¬°Soluci√≥nenlo ya!'", type: 'AI' },
        { id: 'e', text: "Les muestro mi confirmaci√≥n y les hago saber que esto debe solucionarse, pagu√© por un servicio", type: 'AD' },
        { id: 'f', text: "Acepto en el momento pero luego me quejo por redes, mail o con quien me acompa√±a", type: 'PA' }
      ],
      dimension: "Defensa de derechos propios"
    },
    {
      id: 19,
      text: "Un colega est√° pasando por un momento dif√≠cil y su desempe√±o ha bajado, afectando tambi√©n tu trabajo:",
      options: [
        { id: 'a', text: "Asumo su carga de trabajo sin decir nada para no hacerlo sentir peor", type: 'PC' },
        { id: 'b', text: "Hago su parte sin decirle nada, pero empiezo a evitarlo o respondo corto", type: 'PE' },
        { id: 'c', text: "Le pregunto c√≥mo est√°, ofrezco apoyo y converso sobre c√≥mo redistribuir tareas temporalmente", type: 'A' },
        { id: 'd', text: "Le digo directo: 'Mira, entiendo que est√©s mal pero esto me est√° afectando'", type: 'AI' },
        { id: 'e', text: "Le hago saber que el trabajo debe continuar y que necesitamos encontrar soluciones pr√°cticas ya", type: 'AD' },
        { id: 'f', text: "No le digo nada pero me quejo con otros colegas sobre la situaci√≥n", type: 'PA' }
      ],
      dimension: "Empat√≠a y consideraci√≥n"
    },
    {
      id: 20,
      text: "Alguien te cuenta un problema personal y t√∫ pasaste por algo similar:",
      options: [
        { id: 'a', text: "Solo escucho sin compartir mi experiencia, no quiero centrar la atenci√≥n en m√≠", type: 'PC' },
        { id: 'b', text: "Escucho pero cambio de tema cuando puedo, me incomoda la profundidad emocional", type: 'PE' },
        { id: 'c', text: "Escucho primero, valido sus emociones y luego comparto brevemente si puede ser √∫til", type: 'A' },
        { id: 'd', text: "Interrumpo para contar mi historia inmediatamente: '¬°A m√≠ me pas√≥ igual! Y yo hice...'", type: 'AI' },
        { id: 'e', text: "Le digo que no se preocupe tanto, que yo pas√© por lo mismo y lo solucion√© haciendo X cosa", type: 'AD' },
        { id: 'f', text: "Escucho pero luego doy consejos no solicitados o minimizo su problema", type: 'PA' }
      ],
      dimension: "Empat√≠a y consideraci√≥n"
    },
    {
      id: 21,
      text: "En un proyecto grupal, tu propuesta es diferente a la de la mayor√≠a:",
      options: [
        { id: 'a', text: "Retiro mi propuesta y apoyo la mayor√≠a aunque crea que no es la mejor opci√≥n", type: 'PC' },
        { id: 'b', text: "No insisto mucho y dejo que sigan con lo que ellos quieren", type: 'PE' },
        { id: 'c', text: "Explico los beneficios de mi propuesta, escucho las otras y estoy abierto a un punto medio", type: 'A' },
        { id: 'd', text: "Debato intensamente tratando de convencer a todos de que mi forma es mejor", type: 'AI' },
        { id: 'e', text: "Insisto en mi propuesta explicando por qu√© es la m√°s adecuada seg√∫n criterios objetivos", type: 'AD' },
        { id: 'f', text: "Cedo en apariencia pero luego implemento partes de mi idea sin consultar", type: 'PA' }
      ],
      dimension: "Manejo de diferencias de opini√≥n"
    },
    {
      id: 22,
      text: "Alguien cuestiona tu conocimiento o experiencia en un tema que dominas:",
      options: [
        { id: 'a', text: "Me quedo callado y dejo que piensen lo que quieran, no vale la pena discutir", type: 'PC' },
        { id: 'b', text: "Digo algo vago como 'bueno, cada quien tiene su opini√≥n' y cambio de tema", type: 'PE' },
        { id: 'c', text: "Comparto mi formaci√≥n/experiencia de forma objetiva sin necesidad de sobreexplicarme", type: 'A' },
        { id: 'd', text: "Reacciono molesto: '¬øEn serio me est√°s cuestionando? ¬øSabes cu√°ntos a√±os llevo en esto?'", type: 'AI' },
        { id: 'e', text: "Aclaro mi experiencia y formaci√≥n para que quede claro que s√© de lo que hablo", type: 'AD' },
        { id: 'f', text: "No digo nada pero me ofendo y evito colaborar con esa persona despu√©s", type: 'PA' }
      ],
      dimension: "Manejo de diferencias de opini√≥n"
    },
    {
      id: 23,
      text: "Alguien interrumpe constantemente mientras est√°s hablando en una conversaci√≥n grupal:",
      options: [
        { id: 'a', text: "Dejo de hablar y los escucho, quiz√°s lo que yo dec√≠a no era tan importante", type: 'PC' },
        { id: 'b', text: "Me voy callando poco a poco y me retiro mentalmente de la conversaci√≥n", type: 'PE' },
        { id: 'c', text: "Digo con calma 'disculpa, me gustar√≠a terminar mi punto' y retomo", type: 'A' },
        { id: 'd', text: "Levanto la voz o lo interrumpo tambi√©n: '¬°¬øMe vas a dejar hablar o no?!'", type: 'AI' },
        { id: 'e', text: "Contin√∫o hablando o se√±alo que todos merecemos ser escuchados sin interrupciones", type: 'AD' },
        { id: 'f', text: "Me callo de forma notoria creando silencio inc√≥modo, o hago gestos de molestia", type: 'PA' }
      ],
      dimension: "Respuesta ante faltas de respeto"
    },
    {
      id: 24,
      text: "Recibes un mensaje grosero o irrespetuoso por texto/correo:",
      options: [
        { id: 'a', text: "No respondo o respondo como si no hubiera pasado nada", type: 'PC' },
        { id: 'b', text: "Respondo solo lo necesario sin abordar el tono, o tardo mucho en responder", type: 'PE' },
        { id: 'c', text: "Respondo se√±alando que el tono no es apropiado y pido hablar en persona o reformular", type: 'A' },
        { id: 'd', text: "Respondo con el mismo tono o m√°s fuerte para que vea que no me dejo", type: 'AI' },
        { id: 'e', text: "Respondo de forma directa aclarando mi punto sin dejar pasar el tono inapropiado", type: 'AD' },
        { id: 'f', text: "No confronto pero comparto el mensaje con otros para quejarme o validarme", type: 'PA' }
      ],
      dimension: "Respuesta ante faltas de respeto"
    },
    {
      id: 25,
      text: "Tienes planes importantes para ti, pero alguien cercano te pide que los cambies por algo importante para ellos:",
      options: [
        { id: 'a', text: "Cancelo mis planes sin dudarlo, sus necesidades son m√°s importantes que las m√≠as", type: 'PC' },
        { id: 'b', text: "Digo que 'lo voy a pensar' pero ya s√© que probablemente ceder√©", type: 'PE' },
        { id: 'c', text: "Eval√∫o ambas situaciones, expreso la importancia de mis planes y busco alternativas o equilibrio", type: 'A' },
        { id: 'd', text: "Le respondo molesto: '¬°Siempre es lo mismo! ¬øPor qu√© yo tengo que cambiar?'", type: 'AI' },
        { id: 'e', text: "Le explico que yo tambi√©n tengo prioridades y que en esta ocasi√≥n no puedo cambiar mis planes", type: 'AD' },
        { id: 'f', text: "Acepto cambiar pero me siento resentido y se lo recuerdo despu√©s o lo uso en otra discusi√≥n", type: 'PA' }
      ],
      dimension: "Priorizaci√≥n de necesidades"
    }
  ];

const styleNames = {
    'PC': 'Pasivo Complaciente',
    'PE': 'Pasivo Evitativo',
    'A': 'Asertivo',
    'AI': 'Agresivo Impulsivo',
    'AD': 'Agresivo Dominante',
    'PA': 'Pasivo-Agresivo'
  };

  const feedbacks = {
    'PC': {
      title: 'Pasivo Complaciente',
      content: `Tu estilo comunicativo tiene tendencia a ser **pasivo complaciente**. Priorizas mantener la armon√≠a y evitar decepcionar a otros, frecuentemente aceptando situaciones o peticiones aunque no est√©s de acuerdo o te generen malestar. Tiendes a tragarte lo que piensas y sientes para no crear conflicto.

**Fortalezas:**
‚Ä¢ Eres muy considerado y emp√°tico con los dem√°s
‚Ä¢ Valoras profundamente las relaciones y la armon√≠a
‚Ä¢ Las personas te perciben como alguien amable y colaborador
‚Ä¢ Tienes una gran capacidad para ceder y ser flexible

**√Åreas de crecimiento:**
‚Ä¢ Expresar tus necesidades y opiniones es un derecho leg√≠timo, no una imposici√≥n
‚Ä¢ Decir "no" cuando es necesario protege tu bienestar f√≠sico y emocional
‚Ä¢ Tus opiniones y necesidades tienen el mismo valor que las de los dem√°s
‚Ä¢ Complacer constantemente puede generar resentimiento acumulado y desgaste

**Impacto en tus relaciones:**
A corto plazo mantienes relaciones tranquilas, pero a largo plazo puedes sentir que no te conocen realmente o que tus relaciones son desiguales. El resentimiento acumulado puede explotar inesperadamente o llevarte al agotamiento emocional.

**Primeros pasos:**
‚Ä¢ Practica expresar preferencias peque√±as en situaciones de bajo riesgo
‚Ä¢ Identifica situaciones donde sientes resentimiento y preg√∫ntate qu√© necesitabas expresar
‚Ä¢ Recuerda: establecer l√≠mites no te hace ego√≠sta, te hace humano`
    },
    'PE': {
      title: 'Pasivo Evitativo',
      content: `Tu estilo comunicativo tiene tendencia a ser **pasivo evitativo**. Evitas las confrontaciones directas dando excusas, pretextos o respuestas ambiguas. Prefieres no comprometerte claramente, usar intermediarios o evadir situaciones inc√≥modas en lugar de expresar honestamente lo que piensas o sientes.

**Fortalezas:**
‚Ä¢ Evitas conflictos innecesarios y tensiones directas
‚Ä¢ Eres diplom√°tico y prefieres mantener las aguas calmadas
‚Ä¢ Tienes sensibilidad para detectar situaciones potencialmente conflictivas

**√Åreas de crecimiento:**
‚Ä¢ La evasi√≥n no resuelve problemas, solo los pospone
‚Ä¢ La falta de claridad puede generar m√°s confusi√≥n y frustraci√≥n en otros
‚Ä¢ Usar excusas en lugar de ser honesto erosiona la confianza
‚Ä¢ Las personas merecen respuestas claras, incluso si son negativas

**Impacto en tus relaciones:**
Las personas pueden sentirse confundidas sobre d√≥nde est√°n contigo. La falta de claridad puede generar desconfianza o hacer que otros dejen de contar contigo.

**Primeros pasos:**
‚Ä¢ Practica dar respuestas directas y honestas en situaciones de bajo riesgo
‚Ä¢ En lugar de "tal vez", prueba "no, pero gracias por pensar en m√≠"
‚Ä¢ Cuando uses a terceros, reformula en primera persona`
    },
    'A': {
      title: 'Asertivo',
      content: `Tu estilo comunicativo tiene tendencia a ser **asertivo**. Logras un equilibrio saludable entre expresar tus necesidades, opiniones y l√≠mites mientras respetas los derechos y perspectivas de los dem√°s. Te comunicas de forma clara, directa y respetuosa.

**Fortalezas:**
‚Ä¢ Expresas tus necesidades y opiniones con claridad y respeto
‚Ä¢ Reconoces que tus derechos y los de otros tienen igual importancia
‚Ä¢ Manejas conflictos de forma constructiva buscando soluciones
‚Ä¢ Estableces l√≠mites saludables sin culpa ni agresi√≥n

**√Åreas de atenci√≥n:**
‚Ä¢ Mantente atento a contextos culturales o situaciones que requieran adaptar tu enfoque
‚Ä¢ Recuerda que la asertividad es una pr√°ctica continua, no un estado permanente

**Impacto en tus relaciones:**
Tus relaciones tienden a ser m√°s honestas, equilibradas y duraderas. Las personas saben qu√© esperar de ti y conf√≠an en tu palabra.

**Contin√∫a desarrollando:**
‚Ä¢ Modela comunicaci√≥n saludable para quienes te rodean
‚Ä¢ Refina tu capacidad de leer contextos y adaptar tu comunicaci√≥n`
    },
    'AI': {
      title: 'Agresivo Impulsivo',
      content: `Tu estilo comunicativo tiene tendencia a ser **agresivo impulsivo**. Reaccionas intensamente en el momento, frecuentemente sin filtro, interrumpes o hablas sin considerar plenamente el impacto de tus palabras. Tus emociones tienden a desbordarse antes de que puedas procesarlas.

**Fortalezas:**
‚Ä¢ Eres aut√©ntico y expresas lo que sientes en el momento
‚Ä¢ No guardas rencores porque liberas tus emociones
‚Ä¢ Eres apasionado y las personas saben cuando algo te importa

**√Åreas de crecimiento:**
‚Ä¢ La intensidad de tu reacci√≥n puede opacar tu mensaje v√°lido
‚Ä¢ Las palabras dichas en caliente pueden da√±ar relaciones de forma permanente
‚Ä¢ Interrumpir o alzar la voz impide la comunicaci√≥n efectiva

**Impacto en tus relaciones:**
Las personas pueden sentirse atacadas o temerosas de tu reacci√≥n, lo que limita la comunicaci√≥n honesta.

**Primeros pasos:**
‚Ä¢ Practica la pausa: cuenta hasta 5 antes de responder en situaciones emocionales
‚Ä¢ Preg√∫ntate: "¬øDir√≠a esto mismo si tuviera tiempo de pensarlo?"
‚Ä¢ Identifica tus disparadores emocionales`
    },
    'AD': {
      title: 'Agresivo Dominante',
      content: `Tu estilo comunicativo tiene tendencia a ser **agresivo dominante**. Priorizas tus propias necesidades, intereses y puntos de vista, frecuentemente con dificultad para considerar las perspectivas ajenas con la misma validez.

**Fortalezas:**
‚Ä¢ Eres claro sobre lo que piensas, quieres y necesitas
‚Ä¢ Defiendes tus derechos y posiciones con firmeza y convicci√≥n
‚Ä¢ Tienes capacidad de liderazgo y toma de decisiones

**√Åreas de crecimiento:**
‚Ä¢ Las necesidades y perspectivas de otros tienen igual validez que las tuyas
‚Ä¢ La empat√≠a fortalece la comunicaci√≥n y los resultados, no los debilita
‚Ä¢ Escuchar activamente puede revelar informaci√≥n valiosa

**Impacto en tus relaciones:**
Las personas pueden sentirse invalidadas, no escuchadas o menospreciadas. Aunque logres resultados a corto plazo, puedes generar resistencia pasiva.

**Primeros pasos:**
‚Ä¢ Antes de hablar, preg√∫ntate: "¬øC√≥mo me sentir√≠a yo en su lugar?"
‚Ä¢ Practica escuchar completamente antes de responder
‚Ä¢ Usa frases como "ay√∫dame a entender tu perspectiva"`
    },
    'PA': {
      title: 'Pasivo-Agresivo',
      content: `Tu estilo comunicativo tiene tendencia a ser **pasivo-agresivo**. Evitas la confrontaci√≥n directa pero expresas tu descontento de formas indirectas: sarcasmo, cumplimiento renuente, sabotaje sutil, quejas a terceros o comunicaci√≥n no verbal negativa.

**Patr√≥n com√∫n:**
‚Ä¢ Dices "s√≠" o "est√° bien" cuando en realidad piensas "no"
‚Ä¢ Expresas molestia a trav√©s de acciones en lugar de palabras
‚Ä¢ Evitas conflictos directos pero guardas resentimiento que se filtra

**√Åreas de crecimiento:**
‚Ä¢ La comunicaci√≥n indirecta genera confusi√≥n y erosiona la confianza
‚Ä¢ Los dem√°s no son lectores de mente y merecen saber directamente qu√© te molesta
‚Ä¢ Expresar directamente previene malentendidos y resuelve problemas

**Impacto en tus relaciones:**
Las personas pueden sentirse confundidas, frustradas o manipuladas. No saben realmente qu√© piensas o d√≥nde est√°n contigo.

**Primeros pasos:**
‚Ä¢ Identifica qu√© te impide expresar tu molestia directamente
‚Ä¢ Practica usar "yo siento/pienso/necesito..." en lugar de se√±ales indirectas
‚Ä¢ Reemplaza quejas a terceros con conversaciones directas`
    }
  };

const GOOGLE_SHEET_URL = 'https://script.google.com/macros/s/AKfycbx8oo1IPzBoZTh5GTM6H52SWJ5YbJD_P_sRiOzOAb0QYcE65rrMBfXhVxUXWU3lblxp/exec';
const LOGO_URL = 'https://urdanetamariale-neurowellness.github.io/test-asertividad/logo.png';
const barColors = ['#93C5FD', '#60A5FA', '#34D399', '#FB923C', '#F87171', '#C084FC'];

function App() {
    const [stage, setStage] = useState('intro');
    const [userData, setUserData] = useState({ nombre: '', email: '' });
    const [currentQuestion, setCurrentQuestion] = useState(0);
    const [answers, setAnswers] = useState({});
    const [showResults, setShowResults] = useState(false);

    function calculateResults() {
        const counts = { PC:0, PE:0, A:0, AI:0, AD:0, PA:0 };
        Object.values(answers).forEach(t => { counts[t]++; });
        const total = Object.keys(answers).length;
        const pct = {};
        Object.keys(counts).forEach(k => { pct[k] = total > 0 ? ((counts[k]/total)*100).toFixed(1) : 0; });
        let maxC = 0, dominant = '';
        Object.keys(counts).forEach(k => { if(counts[k] > maxC){ maxC = counts[k]; dominant = k; }});
        let secStyle = '', secMax = 0;
        Object.keys(pct).forEach(k => {
            if(k !== dominant && parseFloat(pct[k]) > 20 && parseFloat(pct[k]) > secMax){
                secMax = parseFloat(pct[k]); secStyle = k;
            }
        });
        return { pct, profile: styleNames[dominant], profileCode: dominant, secondProfile: secStyle ? styleNames[secStyle] : null, secondPct: secStyle ? pct[secStyle] : null };
    }

    async function sendData(results) {
        try {
            const data = {
                timestamp: new Date().toISOString(),
                nombre: userData.nombre,
                email: userData.email,
                pasivoComplaciente: results.pct.PC,
                pasivoEvitativo: results.pct.PE,
                asertivo: results.pct.A,
                agresivoImpulsivo: results.pct.AI,
                agresivoDominante: results.pct.AD,
                pasivoAgresivo: results.pct.PA,
                perfil: results.profile,
                segundoPerfil: results.secondProfile || '',
                respuestas: JSON.stringify(answers)
            };
            await fetch(GOOGLE_SHEET_URL, { method:'POST', mode:'no-cors', headers:{'Content-Type':'application/json'}, body: JSON.stringify(data) });
        } catch(e) { console.log('Error:', e); }
    }

    function handleNext() {
        if(currentQuestion < questions.length - 1) {
            setCurrentQuestion(currentQuestion + 1);
        } else if(Object.keys(answers).length === questions.length) {
            const r = calculateResults();
            sendData(r);
            setShowResults(true);
        }
    }

    const currentQ = questions[currentQuestion];
    const selectedOption = answers[currentQ?.id];
    const progress = ((currentQuestion + 1) / questions.length) * 100;

    // ===================== INTRO =====================
    if(stage === 'intro') {
        return (
            <div style={{padding:'2rem 0.5rem', minHeight:'100vh'}}>
                <div className="card card-narrow">
                    <div className="text-center" style={{marginBottom:'1.5rem'}}>
                        <img src={LOGO_URL} alt="NeuroWellness Learning" className="logo" onError={(e)=> e.target.style.display='none'} />
                        <h1 style={{fontSize:'2rem'}}>Test de Asertividad</h1>
                    </div>

                    <div className="intro-text">
                        <p>Bienvenido al Test de Asertividad, una herramienta dise√±ada para ayudarte a comprender mejor tu estilo de comunicaci√≥n en diferentes situaciones cotidianas.</p>
                        <p style={{marginTop:'0.75rem'}}>El test consta de <strong>25 situaciones</strong> de la vida real. Para cada una, selecciona la opci√≥n que mejor describa c√≥mo actuar√≠as normalmente. No hay respuestas correctas o incorrectas, lo importante es ser honesto contigo mismo.</p>
                        <p style={{marginTop:'0.5rem', color:'#4b5563', fontStyle:'italic', fontSize:'0.9rem'}}>Tiempo estimado: 8-10 minutos</p>
                    </div>

                    <div className="divider">
                        <p className="section-title" style={{marginTop:0}}>Antes de comenzar, por favor completa:</p>
                        <label>Nombre completo *</label>
                        <input type="text" placeholder="Ingresa tu nombre" value={userData.nombre} onChange={e => setUserData({...userData, nombre: e.target.value})} />
                        <label>Email *</label>
                        <input type="email" placeholder="tu@email.com" value={userData.email} onChange={e => setUserData({...userData, email: e.target.value})} />
                        <button className="btn-start" disabled={!userData.nombre || !userData.email} onClick={()=>{ if(userData.nombre && userData.email) setStage('test'); }}>
                            Comenzar Test
                        </button>
                    </div>
                    <div className="results-footer">
                        <p className="subtitle">Material desarrollado por Maria Alejandra Urdaneta</p>
                        <p className="copyright">Propiedad intelectual, todos los derechos reservados</p>
                    </div>
                </div>
            </div>
        );
    }

    // ===================== RESULTADOS =====================
    if(showResults) {
        const results = calculateResults();
        const fb = feedbacks[results.profileCode];
        const styleKeys = Object.keys(styleNames);
        return (
            <div style={{padding:'2rem 0.5rem', minHeight:'100vh'}}>
                <div className="card">
                    <div className="text-center" style={{marginBottom:'1.5rem'}}>
                        <img src={LOGO_URL} alt="NeuroWellness Learning" className="logo" onError={(e)=> e.target.style.display='none'} />
                        <h1 style={{fontSize:'1.75rem'}}>Resultados: Test de Asertividad</h1>
                    </div>

                    <div style={{background:'#eef2ff', borderRadius:'0.5rem', padding:'1rem 1.25rem', marginBottom:'1.5rem', borderLeft:'3px solid #C8A2C8'}}>
                        <p style={{color:'#374151', fontSize:'0.92rem', marginBottom:'0.5rem'}}><strong>¬øQu√© es la asertividad?</strong> Es la capacidad de expresar tus pensamientos, sentimientos y necesidades de manera clara y respetuosa, sin atropellar los derechos de los dem√°s ni dejar que otros atropellen los tuyos.</p>
                        <p style={{color:'#374151', fontSize:'0.92rem', marginBottom:'0.5rem'}}><strong>¬øQu√© significa "tendencia"?</strong> Nadie responde de una sola manera en todas las situaciones. Tu resultado refleja el estilo que usas con m√°s frecuencia, no una etiqueta fija. Es un punto de partida, no un l√≠mite.</p>
                        <p style={{color:'#4b5563', fontSize:'0.85rem', fontStyle:'italic'}}>üìß Tus resultados completos, incluyendo fortalezas y recomendaciones personalizadas, ser√°n enviados a tu correo electr√≥nico.</p>
                    </div>

                    <p className="result-subtitle">Tu estilo comunicativo tiene tendencia a ser:</p>
                    <p className="result-title">{results.profile}</p>

                    {results.secondProfile && <p className="second-profile">Tambi√©n muestras tendencias hacia <strong>{results.secondProfile}</strong> ({results.secondPct}%) en algunas situaciones.</p>}

                    <div style={{marginBottom:'1.5rem'}}>
                        {styleKeys.map((key, i) => (
                            <div className="bar-row" key={key}>
                                <div className="bar-label">
                                    <span>{styleNames[key]}</span>
                                    <span>{results.pct[key]}%</span>
                                </div>
                                <div className="bar-track">
                                    <div className="bar-fill" style={{width: results.pct[key]+'%', backgroundColor: barColors[i]}}></div>
                                </div>
                            </div>
                        ))}
                    </div>

                    <div className="feedback-box">{fb.content}</div>

                    <button className="btn-restart" onClick={()=>{ setAnswers({}); setCurrentQuestion(0); setShowResults(false); setStage('intro'); setUserData({nombre:'',email:''}); }}>
                        ‚Üª Reiniciar Test
                    </button>

                    <div className="results-footer">
                        <p className="subtitle">Material desarrollado por Maria Alejandra Urdaneta</p>
                        <p className="copyright">Propiedad intelectual, todos los derechos reservados</p>
                    </div>
                </div>
            </div>
        );
    }

    // ===================== TEST =====================
    const isLastQuestion = currentQuestion === questions.length - 1;
    const canFinish = isLastQuestion && Object.keys(answers).length === questions.length;

    return (
        <div style={{padding:'2rem 0.5rem', minHeight:'100vh'}}>
            <div className="card">
                <div className="test-header">
                    <img src={LOGO_URL} alt="NeuroWellness Learning" className="logo-sm" onError={(e)=> e.target.style.display='none'} />
                    <span className="test-counter">{currentQuestion + 1} de {questions.length}</span>
                </div>
                <div className="progress-track">
                    <div className="progress-fill" style={{width: progress+'%'}}></div>
                </div>

                <p className="dimension-label">{currentQ.dimension}</p>
                <p className="question-text">{currentQ.text}</p>

                <div>
                    {currentQ.options.map(opt => (
                        <button
                            key={opt.id}
                            className={'option-btn' + (selectedOption === opt.type ? ' selected' : '')}
                            onClick={()=> setAnswers({...answers, [currentQ.id]: opt.type})}
                        >
                            <span className="option-label">{opt.id})</span>{opt.text}
                        </button>
                    ))}
                </div>

                <div className="nav-buttons">
                    <button className="btn-prev" disabled={currentQuestion === 0} onClick={()=> setCurrentQuestion(currentQuestion - 1)}>
                        ‚Üê Anterior
                    </button>
                    <button className={'btn-next' + (canFinish ? ' green' : '')} disabled={!selectedOption} onClick={handleNext}>
                        {canFinish ? 'Ver Resultados' : 'Siguiente'} ‚Üí
                    </button>
                </div>

                <p className="footer-copy">¬© NeuroWellness Learning</p>
            </div>
        </div>
    );
}

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(<App />);
</script>
</body>
</html>
